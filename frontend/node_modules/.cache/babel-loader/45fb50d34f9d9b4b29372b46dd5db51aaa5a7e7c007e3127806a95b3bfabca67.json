{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport instance from '../axiosConfig';\n\n// Fetch tasks\nexport const fetchTasks = createAsyncThunk('tasks/fetchTasks', async () => {\n  const response = await instance.get('/tasks');\n  return response.data;\n});\n\n// Create a new task\nexport const createTask = createAsyncThunk('tasks/createTask', async task => {\n  const response = await instance.post('/tasks', task);\n  return response.data;\n});\n\n// Update an existing task\nexport const updateTask = createAsyncThunk('tasks/updateTask', async ({\n  id,\n  title,\n  description\n}) => {\n  const response = await instance.put(`/tasks/${id}`, {\n    title,\n    description\n  });\n  return response.data;\n});\n\n// Toggle task completion\nexport const toggleTask = createAsyncThunk('tasks/toggleTask', async taskId => {\n  const response = await instance.patch(`/tasks/${taskId}/toggle`);\n  return response.data;\n});\n\n// Delete a task\nexport const deleteTask = createAsyncThunk('tasks/deleteTask', async taskId => {\n  await instance.delete(`/tasks/${taskId}`);\n  return taskId;\n});\nconst taskSlice = createSlice({\n  name: 'tasks',\n  initialState: [],\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchTasks.fulfilled, (state, action) => action.payload).addCase(createTask.fulfilled, (state, action) => {\n      state.push(action.payload);\n    }).addCase(updateTask.fulfilled, (state, action) => {\n      const index = state.findIndex(task => task.id === action.payload.id);\n      if (index !== -1) {\n        state[index] = action.payload;\n      }\n    }).addCase(toggleTask.fulfilled, (state, action) => {\n      const index = state.findIndex(task => task.id === action.payload.id);\n      if (index !== -1) {\n        state[index] = action.payload;\n      }\n    }).addCase(deleteTask.fulfilled, (state, action) => {\n      return state.filter(task => task.id !== action.payload);\n    });\n  }\n});\nexport default taskSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","instance","fetchTasks","response","get","data","createTask","task","post","updateTask","id","title","description","put","toggleTask","taskId","patch","deleteTask","delete","taskSlice","name","initialState","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","push","index","findIndex","filter","reducer"],"sources":["C:/todolist/todo-app/frontend/src/redux/taskSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport instance from '../axiosConfig';\r\n\r\n// Fetch tasks\r\nexport const fetchTasks = createAsyncThunk('tasks/fetchTasks', async () => {\r\n  const response = await instance.get('/tasks');\r\n  return response.data;\r\n});\r\n\r\n// Create a new task\r\nexport const createTask = createAsyncThunk('tasks/createTask', async (task) => {\r\n  const response = await instance.post('/tasks', task);\r\n  return response.data;\r\n});\r\n\r\n// Update an existing task\r\nexport const updateTask = createAsyncThunk('tasks/updateTask', async ({ id, title, description }) => {\r\n  const response = await instance.put(`/tasks/${id}`, { title, description });\r\n  return response.data;\r\n});\r\n\r\n// Toggle task completion\r\nexport const toggleTask = createAsyncThunk('tasks/toggleTask', async (taskId) => {\r\n  const response = await instance.patch(`/tasks/${taskId}/toggle`);\r\n  return response.data;\r\n});\r\n\r\n// Delete a task\r\nexport const deleteTask = createAsyncThunk('tasks/deleteTask', async (taskId) => {\r\n  await instance.delete(`/tasks/${taskId}`);\r\n  return taskId;\r\n});\r\n\r\nconst taskSlice = createSlice({\r\n  name: 'tasks',\r\n  initialState: [],\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchTasks.fulfilled, (state, action) => action.payload)\r\n      .addCase(createTask.fulfilled, (state, action) => {\r\n        state.push(action.payload);\r\n      })\r\n      .addCase(updateTask.fulfilled, (state, action) => {\r\n        const index = state.findIndex((task) => task.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(toggleTask.fulfilled, (state, action) => {\r\n        const index = state.findIndex((task) => task.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(deleteTask.fulfilled, (state, action) => {\r\n        return state.filter((task) => task.id !== action.payload);\r\n      });\r\n  },\r\n});\r\n\r\nexport default taskSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}